let q = [
            ["Q-->1 Which transport layer protocal is used by DHCP",
              {
                    "TCP": false,
                    "UDP": true,
                    "DHCP":false,
                    "All of these": false
                }
            ],
            ["Q-->2 which address schemes are used by ipv4 and ipv6 internet protocal ",
              {
                    "128-bit and 32 bit": false,
                    "32-bit and 128-bit":true,
                    "Both": false,
                    "None": false
                }
            ],
            ["Q-->3 Which is the lowest lowest layer of OSI model",
              {
                    "Network": false,
                    "physical": true,
                    "Data link":false,
                    "Application": false
                }
            ],
            ["Q-->4 Application layer of TCP/IP is equivalent to which OSI layers?",
              {
                    "Data link + Physical": false,
                    "Network + Transport": false,
                    "Session + Presentation + Application":true,
                    "Physical + Network": false
                }
            ],
            ["Q-->5 Which is the most common lightweight protocol in IoT?",
              {
                    "HTTP": false,
                    "MQTT":true,
                    "FTP":false,
                    "None": false
                }
            ],
            ["Q-->6 OSI model has how many layers?",
              {
                    "4": false,
                    "5": false,
                    "7":true,
                    "8": false
                }
            ],
            ["Q-->7 Refrigeration thermostat is which type of system?",
              {
                    "Open-loop": false,
                    "Closed-loop": true,
                    "Manual":false,
                    "Hybrid": false
                }
            ],
            ["Q-->8 Which extra block is present in closed-loop control system?",
              {
                    "Amplifier": false,
                    "Feedback": true,
                    "Controller":false,
                    "Comparator": false
                }
            ],
            ["Q-->9 Which is a feature of a control system?",
              {
                    "Stability": false,
                    "Accuracy": false,
                    "Sensitivity":false,
                    "All of the above": true
                }
            ],
            ["Q-->10 Working of a control system is based on:",
              {
                    "Input-Output relationship": true,
                    "Random output": false,
                    "Manual tuning":false,
                    "None of the above": false
                }
            ],
            ["Q-->11 TCP/IP model has how many layers?",
              {
                    "4": true,
                    "5": false,
                    "6":false,
                    "7": false
                }
            ],
            ["Q-->12 CoAP protocol is mainly used for:",
              {
                    "Email communication": false,
                    "Resource-constrained IoT devices": true,
                    "File transfer":false,
                    "Video streaming": false
                }
            ],
            ["Q-->13 In simplex mode, data flow is:",
              {
                    "Both directions simultaneously": false,
                    "In only one direction": true,
                    "In alternate direction":false,
                    "Random": false
                }
            ],
            ["Q-->14 Example of duplex transmission is:",
              {
                    "Keyboard to CPU": false,
                    "Walkie-talkie": false,
                    "Telephone":true,
                    "Loudspeaker": false
                }
            ],
            ["Q-->15 Twisted pair cable is which type of media?",
              {
                    "Wireless": false,
                    "Guided": true,
                    "Unguided":false,
                    "Optical": false
                }
            ],
            ["Q-->16 Microwave communication is which type of media?",
              {
                    "Guided": false,
                    "Unguided": true,
                    "Wired":false,
                    "Coaxial": false
                }
            ],
            ["Q-->17 Main disadvantage of wired communication is:",
              {
                    "High speed": false,
                    " High reliability": false,
                    "High installation cost":true,
                    " Low security": false
                }
            ],
            ["Q-->18 Coaxial cable is mainly used for:",
              {
                    "Satellite communication": false,
                    "LAN connection":true,
                    "Telephone lines":false,
                    "Fiber optic network": false
                }
            ],
            ["Q-->19  Decision-making in IoT happens at which stage?",
              {
                    "Data collection": false,
                    "Data transmission": false,
                    "Data processing":true,
                    "Data visualization": false
                }
            ],
            ["Q-->20 Function of IP in TCP/IP model is:",
              {
                    "Error detection": false,
                    "Reliable delivery": false,
                    "Addressing & routing":true,
                    "Data encryption": false
                }
            ],
            ["Q-->21 What is the main function of the Physical layer?",
              {
                    "Error detection": false,
                    "Data transmission in bits": true,
                    "Routing":false,
                    "Encryption": false
                }
            ],
            ["Q-->22 The Transport layer mainly provides:",
              {
                    "Segmentation and reassembly of data": true,
                    "Error correction at bit level": false,
                    "Cable specification":false,
                    "Web browsing": false
                }
            ],
            ["Q-->23 The Presentation layer is responsible for:",
              {
                    "Translate, encrypt, compress data": true,
                    "Routing": false,
                    "Bit transmission":false,
                    "Authentication": false
                }
            ],
            ["Q-->24 The Application layer directly interacts with:",
              {
                    "Operating system": false,
                    "User/application software": true,
                    "Physical devices":false,
                    "Transport layer": false
                }
            ],
            ["Q-->25 “Frames” are the data unit of which OSI layer?",
              {
                    "Physical": false,
                    "Data Link": true,
                    "Network":false,
                    "Transport": false
                }
            ],
            ["Q-->26 In which OSI layer are “Packets” created?",
              {
                    "Physical": false,
                    "Data Link": false,
                    "Network":true,
                    "Transport": false
                }
            ],
            ["Q-->27 In OSI model stands for",
              {
                    "Open system internet": false,
                    "Open system interconnection": true,
                    "Operating system internet":false,
                    "None": false
                }
            ],
            ["Q-->28 OSI model developed by",
              {
                    "OSI": false,
                    "SOI": false,
                    "ISO":true,
                    "Google": false
                }
            ],
            ["Q-->29 coverting digital bits into an electical,radio or optical single takes place at which layer of OSI Model",
              {
                    "Application layer": false,
                    "Physical layer": true,
                    "Session layer":false,
                    "Network layer": false
                }
            ],
            ["Q-->30 In Which  from data transferred in Network layer ",
              {
                    "Packets": true,
                    "Bytes": false,
                    "Dataram":false,
                    "all of these": false
                }
            ],
            ["Q-->31 Allow data processing close to devices ",
              {
                    "Edge Computing ": true,
                    "Cloud computing": false,
                    "fog computing":false,
                    "none": false
                }
            ],
            ["Q-->32 Each IP address must contain :",
              {
                    "Only destination Ip Address": false,
                    "Only source IP Address": false,
                    "source and destination Ip address":false,
                    "None": false
                }
            ],
            ["Q-->33 Traffic light system is the example of:",
              {
                    "Open Loop System": true,
                    "Close Loop system": false,
                    "Both":false,
                    "None": false
                }
            ],
            ["Q-->34 IoT communication protocols include:",
              {
                    " MQTT, CoAP, HTTP": true,
                    "HTML, CSS, JS": false,
                    "LAN, WAN, MAN":false,
                    "SQL, NoSQL": false
                }
            ],
            ["Q-->35 The network layer in IoT is mainly responsible for:",
              {
                    "Data sensing": false,
                    "Data transmission": true,
                    "User interface design":false,
                    "Business decision-making": false
                }
            ],
            ["Q-->36 Which of the following is a popular IoT development board?",
              {
                    "Arduino": true,
                    " Photoshop": false,
                    "Microsoft Word":false,
                    "MS Excel": false
                }
            ],
            ["Q-->37 Which of these is an IoT Cloud platform?",
              {
                    "AWS IoT": true,
                    "Adobe Photoshop": false,
                    "Oracle DBMS":false,
                    "MS PowerPoint": false
                }
            ],
            ["Q-->38 IoT-based wearable devices include:",
              {
                    "Smart watches": true,
                    "Smart bulbs": false,
                    "Smart irrigation systems":false,
                    "Smart speakers only": false
                }
            ],
            ["Q-->39 Which of the following is NOT a characteristic of IoT?",
              {
                    "Connectivity": false,
                    "Scalability": false,
                    "Isolation":true,
                    "Intelligence": false
                }
            ],
            ["Q-->40 What does IoT stand for?",
              {
                    "Internet of Topics": false,
                    "nternet of Tools": false,
                    "Internet of Things":false,
                    "nternet of Technology": true
                }
            ],
            ["Q-->41 identify among the following which is not a data link layer technology",
              {
                    "UART": false,
                    "Wifi": false,
                    "Bluetooth":false,
                    "HTTP": true
                }
            ],
            ["Q-->42 Which of the following is not a TCP/IP layer? ",
              {
                    "Application layer": false,
                    "Data link layer": true,
                    "Network layer":false,
                    "Transport layer": false
                }
            ],
            ["Q-->43 WOT reduces the___ of HTTP",
              {
                    "Load": false,
                    "Overload": false,
                    "Overhead":true,
                    "Overrun": false
                }
            ],
            ["Q-->44 Which application layer protocal ia responsible for machine to machine commnunication in restricted enviroment",
              {
                    "MQTT": true,
                    "FTP": false,
                    "CoAP":false,
                    "XMPP": false
                }
            ],
            ["Q-->45 VPN is stand for",
              {
                    "virtual public network": false,
                    "virtual private network": true,
                    "virtual protocal network":false,
                    "none": false
                }
            ],
            ["Q-->46 MOSI is stand for",
              {
                    "Master output slave input": true,
                    "Master input slave output": false,
                    "Both":false,
                    "None": false
                }
            ],
            ["Q-->47 BLE is stands for ",
              {
                    "Bluetooth low network": false,
                    "body Low network ": false,
                    "Bluetooth Low  Energy":true,
                    "None": false
                }
            ],
            ["Q-->48 ____ does the SPI Protocal use",
              {
                    "3 Wired": false,
                    "4 Wired": true,
                    "5 Wired":false,
                    "6 Wired": false
                }
            ],
            ["Q-->49 Which of the following is not the component of IOT end point",
              {
                    "Router": false,
                    "Gateway": true,
                    "Both":false,
                    "none": false
                }
            ],
            ["Q-->50 How many number of Elements in the open Iot Architecture",
              {
                    "3 element": false,
                    "4 element": false,
                    "7 element":true,
                    "8 element": false
                }
            ]
            

        ];


        let index = 0;
        let total = 0;
        let answered = new Array(q.length).fill(false);
        let selectedAnswers = new Array(q.length).fill(null);
        let que = document.getElementById("question");
        let feedback = document.getElementById("feedback");
        let h2 = document.createElement("h2");
        que.appendChild(h2);

        let buttons = [];
        let s_btn;
        let h_solov=document.getElementById("h_solov");
        for(let i=1;i<=q.length;i++){
            s_btn=document.createElement("button");
             s_btn.id=`sbtn${i}`;
            s_btn.className="sbtn";
            s_btn.textContent=i;
            h_solov.appendChild(s_btn);
        }

        for (let i = 0; i < 4; i++) {
            let btn = document.createElement("button");
            btn.className = "b";
            btn.addEventListener("click", () => ans(btn.textContent));
            que.appendChild(btn);
            buttons.push(btn);
        }
    

        function render() {
            let current = q[index];
            h2.textContent = current[0];
            let options = current[1];
            let keys = Object.keys(options);
            for (let i = 0; i < 4; i++) {
                buttons[i].textContent = keys[i];
                buttons[i].disabled = answered[index];
                buttons[i].style.backgroundColor = ""; 
            }
          
        }





        
        function next() {
            index++;
            if (index >= q.length) {
                index = 0;
            }
            render();
        }

        function privious() {
            index--;
            if (index < 0) {
                index = q.length - 1;
            }
            render();
        }

        function ans(selectedAns) {
            if (answered[index]) return;
            let options = q[index][1];
            selectedAnswers[index] = selectedAns;
            answered[index] = true;
            let temp=index+1;
            document.getElementById(`sbtn${temp}`).style.backgroundColor="green"
            if (options[selectedAns]) {
                total++;
            }
            render();
        }

        function submitQuiz() {
            total = 0; // Recalculate total
            for (let i = 0; i < q.length; i++) {
                let options = q[i][1];
                let correctAnswer = Object.keys(options).find(key => options[key]);
                if (selectedAnswers[i] === correctAnswer) {
                    total++;
                }
            }
            if(confirm("Do you want a  submit in this test")){
                 feedback.value = total;
                // feedback.style.color = "blue";
                document.getElementById("form_main").style.display="block";
                document.getElementById("quiz").style.display="none";
                document.getElementById("hh_solov").style.display="none";
                
                document.getElementById("time").style.display="none";
                showCorrectAnswers();
                
            }
        }

        function showCorrectAnswers() {
            let current = q[index];
            let options = current[1];
            let keys = Object.keys(options);
            let correctAnswer = keys.find(key => options[key]);

            for (let i = 0; i < 4; i++) {
                let btn = buttons[i];
                let btnText = btn.textContent;
                btn.disabled = true; // Disable buttons after submission
                
            }
        }

        // Whenever you render, if already submitted, show correct answer
        function render() {
            let current = q[index];
            h2.textContent = current[0];
            let options = current[1];
            let keys = Object.keys(options);
            for (let i = 0; i < 4; i++) {
                let btn = buttons[i];
                btn.textContent = keys[i];
                btn.disabled = answered[index];
                btn.style.backgroundColor = "";
            }
            feedback.textContent = "";

            // If quiz already submitted, show correct answer for this question
            if (feedback.textContent !== "") {
                showCorrectAnswers();
            }
        }
        
//rule start  
let check=document.getElementById("check_box");
let btn_info=document.getElementById("info__btn");
check.addEventListener('change', function(){
    if(this.checked){
        btn_info.style.display="block";
    }
    else{
        btn_info.style.display="none";
    }
});

function quiz_start(){
    document.getElementById("quiz").style.display="block";
    document.getElementById("hh_solov").style.display="block";
    document.getElementById("detail").style.display="none";
}





// rule end 

        function from_submit(){
            var roll_no=document.getElementById("roll").value;
            var Name=document.getElementById("name").value;
            var f_name=document.getElementById("f_name").value;
            var course=document.getElementById("course").value;
            if(roll_no =="" || Name =="" || f_name =="" || course ==""){
                alert("Please fill all info");
                return;
            }
            document.getElementById("quiz").style.display="none";
            document.getElementById("form").style.display="block";
        }
    

// show pass 
let check_box=document.getElementById("remember");
let pass=document.getElementById("password")
check_box.addEventListener('change', function(){
    if(this.checked){
        pass.type="text";
    }
    else{
        pass.type="password";
    }
});
// end show password

//login user
let user_name=""
let password=0;
let login_name=document.getElementById("user");
function login_usar(){
    if(pass.value==password && login_name.value==user_name){
        document.getElementById("detail").style.display="block";
        document.getElementById("login").style.display="none";
        //document.getElementById("quiz").style.display="block";
        

    }else{
        alert("invalid username and password");
    }
}

        let t=document.getElementById("time");
        let total_time=30*60;
        let min=34;
        let sec=60;
       


        function show_time(){
            if(sec==0){
                t.innerHTML="Time out -->"+min+": "+sec;
                sec=60;
                min--;
            }
            t.innerHTML="Time out -->"+min+": "+sec;
            sec--;

        }
    setInterval(show_time, 1000);
    let time_up=60000*35;
    setTimeout(function(){
        alert("your exam finished");
        t.style.display="none";
        submitQuiz();
        }, time_up)
            render();
            //information();



// API call for google sheets
const scriptURL = 'https://script.google.com/macros/s/AKfycbyun6wj9Dyv1gFmTJNwcqVjhzWgEC6lXxxDWuzJiVR5ldpDvYO6E3kKIdTA22EGrBu8/exec'
            const form = document.forms['google-sheet']
          
            form.addEventListener('submit', e => {
              e.preventDefault()
              fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => alert("Thanks you ! your test submited"))
                .catch(error => console.error('Error!', error.message))
            })
